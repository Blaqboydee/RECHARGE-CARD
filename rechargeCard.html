<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Recharge Card</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="recharge.css" />
  </head>
  <body>
    <div class="main">
      <div id="phone">
        <h2 style="color: white;">BUY AIRTIME</h2>
        <div class="dropdown">
          <button
            class="btn btn-secondary dropdown-toggle"
            type="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            Select Network
          </button>
          <ul class="dropdown-menu">
            <li>
              <button onclick="checkNetwork('mtn')" class="dropdown-item" href="#">
                MTN
              </button>
            </li>
            <li>
              <button onclick="checkNetwork('glo')" class="dropdown-item" href="#">
                GLO
              </button>
            </li>
            <li>
              <button onclick="checkNetwork('airtel')" class="dropdown-item" href="#">
                AIRTEL
              </button>
            </li>
          </ul>
        </div>
        <br>
          <h3 id="networkContent"></h3>
          <div id="prices"></div>
          <br>
          <p id="showRechargePin"></p>
       
        
          <div class="accountbalance"><span>Account Balance: </span><span id="accountBalance"> ₦0.00 </span></div> 
      </div>
    </div>
  </body>
</html>




<script>

let balance = 0;

function checkNetwork(network) {
  if (network == 'mtn') {
    let buyAirtime = document.querySelector('h2');
    buyAirtime.style.color = 'black'
    phone.style.backgroundColor = 'yellow'
    networkContent.innerHTML = `RECHARGE MTN` 
     showRechargePin.innerHTML = ``
    networkContent.style.color = `black`
     accountBalance.innerHTML = `₦0.00`
     balance = 0
    price()
  } else if (network == 'airtel') {
    let buyAirtime = document.querySelector('h2');
    phone.style.backgroundColor = 'red'
    networkContent.innerHTML = 'RECHARGE AIRTEL'
    buyAirtime.style.color = 'white'
    networkContent.style.color = `white`
    showRechargePin.innerHTML = ``
     accountBalance.innerHTML = `₦0.00`
     balance = 0
    price()
  } else {
    let buyAirtime = document.querySelector('h2');
    buyAirtime.style.color = 'white'
    phone.style.backgroundColor = 'green'
    networkContent.style.color = `white`
    networkContent.innerHTML = 'RECHARGE GLO'
    showRechargePin.innerHTML = ``
     accountBalance.innerHTML = `₦0.00`
     balance = 0;
    price()
  }
}


function generatePin(amount) {

  if (amount == '100') {
    let numbers = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "0"];
    let card = "";

    for (let index = 0; index < 16; index++) {
      let chooser = Math.floor(Math.random() * 10);
      let recharge = numbers[chooser];
      card += recharge;
    }

    
    showRechargePin.innerHTML = `Your recharge pin is ${card} <button id="loadButton" onclick="load(${amount})">Load</button>`
  } else if (amount == '500') {
    let numbers = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "0"];
    let card = "";

    for (let index = 0; index < 16; index++) {
      let chooser = Math.floor(Math.random() * 10);
      let recharge = numbers[chooser];
      card += recharge;
    }

    
    showRechargePin.innerHTML = `Your recharge pin is ${card} <button id="loadButton" onclick="load(${amount})">Load</button>`
  } else{
    let numbers = ["1", "2", "3", "4", "5", "6", "7", "8", "9", "0"];
    let card = "";

    for (let index = 0; index < 16; index++) {
      let chooser = Math.floor(Math.random() * 10);
      let recharge = numbers[chooser];
      card += recharge;
    }

    showRechargePin.innerHTML = `Your recharge pin is ${card} <button id="loadButton" onclick="load(${amount})">Load</button>`
  }
 
  }





  function price() {
    prices.innerHTML = `<button
            class="btn btn-secondary dropdown-toggle"
            type="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            Choose Price
          </button>
          <ul class="dropdown-menu">
            <li>
              <button onclick="generatePin('100')" class="dropdown-item" href="#">
                100
              </button>
            </li>
            <li>
              <button onclick="generatePin('500')" class="dropdown-item" href="#">
                500
              </button>
            </li>
            <li>
              <button onclick="generatePin('1000')" class="dropdown-item" href="#">
                1000
              </button>
            </li>
          </ul>`
  }


  // let balance = 0;

  function load (amountToRecharge) {
    loadButton.innerHTML = `<div class="spinner-border" role="status">
  <span class="visually-hidden">Loading...</span>
</div>`
    setTimeout(() => {
    balance += Number(amountToRecharge);
    accountBalance.innerHTML = ` ₦${balance}.00`
    loadButton.innerHTML = 'Loaded'
    loadButton.disabled = true;
    }, 2000);
  }

  

</script>
